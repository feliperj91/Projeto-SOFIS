/* =========================================
   DASHBOARD PRINT STYLES
   ========================================= */

@media print {

    /* Page setup */
    @page {
        size: A4 portrait;
        margin: 1cm;
    }

    /* Hide everything except dashboard */
    body>*:not(#pulseDashboardModal) {
        display: none !important;
    }

    /* Reset modal positioning */
    #pulseDashboardModal {
        position: static !important;
        display: block !important;
        background: white !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    .dashboard-overlay {
        position: static !important;
        display: block !important;
        background: white !important;
        padding: 0 !important;
        margin: 0 !important;
        backdrop-filter: none !important;
    }

    .dashboard-container {
        max-width: 100% !important;
        max-height: none !important;
        width: 100% !important;
        box-shadow: none !important;
        border-radius: 0 !important;
        background: white !important;
        overflow: visible !important;
        display: block !important;
    }

    /* Hide buttons and unnecessary elements */
    .btn-icon-large,
    .live-indicator,
    .version-link {
        display: none !important;
    }

    /* Dashboard header */
    .dashboard-header {
        padding: 10px 0 !important;
        border-bottom: 2px solid #e5e7eb !important;
        page-break-after: avoid !important;
        margin-bottom: 15px !important;
    }

    .pulse-title h2 {
        font-size: 1.5rem !important;
        color: #7c4dff !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    .pulse-subtitle {
        font-size: 0.8rem !important;
        color: #6b7280 !important;
    }

    /* Dashboard grid - force single column */
    .dashboard-grid {
        display: block !important;
        padding: 0 !important;
        overflow: visible !important;
    }

    /* KPI Cards - side by side */
    .kpi-card {
        display: inline-block !important;
        width: 48% !important;
        margin: 0 1% 10px 0 !important;
        padding: 15px !important;
        vertical-align: top !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
        border: 1px solid #e5e7eb !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    .kpi-card:nth-child(2n) {
        margin-right: 0 !important;
    }

    .kpi-icon {
        width: 45px !important;
        height: 45px !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    .kpi-info h2 {
        font-size: 1.5rem !important;
    }

    .kpi-info h4 {
        font-size: 0.7rem !important;
    }

    /* Chart cards - full width */
    .chart-card {
        display: block !important;
        width: 100% !important;
        margin: 15px 0 !important;
        padding: 15px !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
        border: 1px solid #e5e7eb !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    .wide-chart {
        width: 100% !important;
    }

    .chart-header h3 {
        font-size: 0.95rem !important;
    }

    .chart-body {
        min-height: auto !important;
        height: auto !important;
        max-height: 400px !important;
    }

    /* Canvas charts */
    canvas {
        max-width: 100% !important;
        max-height: 300px !important;
        page-break-inside: avoid !important;
    }

    /* Versions grid - 2 columns */
    .versions-grid {
        display: block !important;
        column-count: 2 !important;
        column-gap: 15px !important;
    }

    .version-system-group {
        break-inside: avoid !important;
        page-break-inside: avoid !important;
        margin-bottom: 10px !important;
    }

    /* System list */
    .system-list {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }

    .system-item {
        margin-bottom: 8px !important;
    }

    .system-name {
        font-size: 0.8rem !important;
    }

    .system-percentage {
        font-size: 0.8rem !important;
    }

    /* Preserve colors */
    .system-bar,
    .system-color,
    .chart-icon,
    .kpi-icon,
    .card-clients .kpi-icon,
    .card-systems .kpi-icon,
    .card-popular .kpi-icon,
    .card-health .kpi-icon {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    /* General print optimizations */
    * {
        box-sizing: border-box !important;
    }

    body {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        background: white !important;
    }
}